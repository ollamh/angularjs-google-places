/*! angularjs-google-places 28-03-2016 */
"use strict";angular.module("ngGPlaces",[]),angular.module("ngGPlaces").value("gPlaces",google.maps.places),angular.module("ngGPlaces").value("gMaps",google.maps),angular.module("ngGPlaces").provider("ngGPlacesAPI",function(){var a={radius:1e3,sensor:!1,latitude:null,longitude:null,types:["food"],map:null,elem:null,nearbySearchKeys:["name","reference","vicinity"],placeDetailsKeys:["formatted_address","formatted_phone_number","reference","website"],nearbySearchErr:"Unable to find nearby places",placeDetailsErr:"Unable to find place details",_nearbySearchApiFnCall:"nearbySearch",_placeDetailsApiFnCall:"getDetails"},b=function(b){var c=[],d=a.nearbySearchKeys;return b.map(function(a){var b={};angular.forEach(d,function(c){b[c]=a[c]}),c.push(b)}),c},c=function(b){var c={},d=a.placeDetailsKeys;return angular.forEach(d,function(a){c[a]=b[a]}),c};this.$get=function(d,e,f,g){function h(b){function c(a,b){return b==f.PlacesServiceStatus.OK?k.resolve(h._parser(a)):void k.reject(h._errorMsg)}var h=angular.copy(a,{});angular.extend(h,b);var i,j,k=d.defer();return h._genLocation&&(h.location=new e.LatLng(h.latitude,h.longitude)),i=h.map?h.map:h.elem?h.elem:g.document.createElement("div"),j=new f.PlacesService(i),j[h._apiFnCall](h,c),k.promise}return{getDefaults:function(){return a},nearbySearch:function(c){return c._genLocation=!0,c._errorMsg=a.nearbySearchErr,c._parser=b,c._apiFnCall=a._nearbySearchApiFnCall,h(c)},placeDetails:function(b){return b._errorMsg=a.placeDetailsErr,b._parser=c,b._apiFnCall=a._placeDetailsApiFnCall,h(b)}}},this.$get.$inject=["$q","gMaps","gPlaces","$window"],this.setDefaults=function(b,c){angular.extend(a,b);for(var d in c)delete a[d]}});